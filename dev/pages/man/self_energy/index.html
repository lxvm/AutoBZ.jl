<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Self energies · AutoBZ.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">AutoBZ.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Core</span><ul><li><a class="tocitem" href="../../core/adaptive_integration/">Adaptive integration</a></li><li><a class="tocitem" href="../../core/equispace_integration/">Equispace integration</a></li><li><a class="tocitem" href="../../core/integration_limits/">Integration limits</a></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../fourier/">Fourier series</a></li><li><a class="tocitem" href="../integrands/">Integrands</a></li><li><a class="tocitem" href="../interfaces/">Interfaces</a></li><li class="is-active"><a class="tocitem" href>Self energies</a><ul class="internal"><li><a class="tocitem" href="#IO"><span>IO</span></a></li><li><a class="tocitem" href="#Interface"><span>Interface</span></a></li><li><a class="tocitem" href="#Types"><span>Types</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../../jobs/">Jobs</a></li><li><a class="tocitem" href="../../adaptinterp/">AdaptChebInterp</a></li><li><a class="tocitem" href="../../equiinterp/">EquiBaryInterp</a></li><li><a class="tocitem" href="../../demo/">Demos</a></li><li><a class="tocitem" href="../../workflow/">Workflow</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Self energies</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Self energies</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lxvm/AutoBZ.jl/blob/main/docs/src/pages/man/self_energy.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Self-energies"><a class="docs-heading-anchor" href="#Self-energies">Self energies</a><a id="Self-energies-1"></a><a class="docs-heading-anchor-permalink" href="#Self-energies" title="Permalink"></a></h1><p>This section of the documentation explains how scalar and matrix-valued self energy data are formatted, loaded, and evaluated</p><h2 id="IO"><a class="docs-heading-anchor" href="#IO">IO</a><a id="IO-1"></a><a class="docs-heading-anchor-permalink" href="#IO" title="Permalink"></a></h2><p>For self energy data stored on equispaced frequency grids, the following file formats and routines use the <a href="../../equiinterp/#EquiBaryInterp">EquiBaryInterp</a> module to interpolate the data for continuous evaluation.</p><h3 id="File-format"><a class="docs-heading-anchor" href="#File-format">File format</a><a id="File-format-1"></a><a class="docs-heading-anchor-permalink" href="#File-format" title="Permalink"></a></h3><p>Depending on the amount of data necessary to represent the self-energy, there are different data file formats for scalar and matrix-valued self energies. Within matrix-valued self energies. There is also a special case diagonal matrices.</p><h4 id="Scalar"><a class="docs-heading-anchor" href="#Scalar">Scalar</a><a id="Scalar-1"></a><a class="docs-heading-anchor-permalink" href="#Scalar" title="Permalink"></a></h4><p>First line contains only <code>nfpts</code>, the number of frequency points in the data set. The following <code>nfpts</code> lines contain three columns with the frequency point, real part of the self energy, and imaginary part of the self energy. For example</p><pre><code class="nohighlight hljs">3001
-15.00   7.9224534011421888  -0.0608455837453997
-14.99   7.9107083143558103  -0.0627222170930403
...</code></pre><h4 id="Diagonal"><a class="docs-heading-anchor" href="#Diagonal">Diagonal</a><a id="Diagonal-1"></a><a class="docs-heading-anchor-permalink" href="#Diagonal" title="Permalink"></a></h4><p>First line contains only <code>nfpts</code>, the number of frequency points in the data set. Second line contains only <code>num_wann</code>, the number of bands used for Wannier interpolation (i.e. should be the same as the Hamiltonian). The following <code>nfpts*num_wann</code> lines contain four columns with the frequency point, one-base index of the self energy in the diagonal of the matrix, real part of the self energy, and imaginary part of the self energy. It is assumed that the frequency data is sorted wih the index as the faster index than the frequency. For example</p><pre><code class="nohighlight hljs">3001
3
-15.00   1   7.9224534011421888  -0.0608455837453997
-15.00   2   7.9224534011422065  -0.0608455837453997
...</code></pre><h4 id="Matrix"><a class="docs-heading-anchor" href="#Matrix">Matrix</a><a id="Matrix-1"></a><a class="docs-heading-anchor-permalink" href="#Matrix" title="Permalink"></a></h4><p>First line contains only <code>nfpts</code>, the number of frequency points in the data set. Second line contains only <code>num_wann</code>, the number of bands used for Wannier interpolation (i.e. should be the same as the Hamiltonian). The following <code>nfpts*num_wann^2</code> lines contain five columns with the frequency point, one-base index of the self energy in the row of the matrix, one-base index of the self energy in the column of the matrix, real part of the self energy, and imaginary part of the self energy. It is assumed that the frequency data is sorted wih the index as the faster index than the frequency. For example</p><pre><code class="nohighlight hljs">3001
3
-15.00   1   1   7.9224534011421888  -0.0608455837453997
-15.00   1   2   7.9224534011422065  -0.0608455837453997
...</code></pre><h3 id="Routines"><a class="docs-heading-anchor" href="#Routines">Routines</a><a id="Routines-1"></a><a class="docs-heading-anchor-permalink" href="#Routines" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="AutoBZ.load_self_energy" href="#AutoBZ.load_self_energy"><code>AutoBZ.load_self_energy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_self_energy(filename, [degree=8, sigdigits=8])</code></pre><p>Read the self energy data in <code>filename</code>, which should be in either <code>:scalar</code>, <code>:diagonal</code>, or <code>:matrix</code> format, and return a self-energy evaluator. Note that the frequency data is assumed to be an equispace grid. The optional argument <code>degree</code> indicates the degree of barycentric Lagrange interpolation, and that <code>sigdigits</code> indicates the number of significant digits used to round the frequency data so as to avoid rounding errors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lxvm/AutoBZ.jl/blob/3adf35a681192e4bdaf0be095a4a4c499fea01ea/src/self_energies_io.jl#L78-L87">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>AutoBZ.parse_self_energy_scalar</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>AutoBZ.parse_self_energy_diagonal</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>AutoBZ.parse_self_energy_matrix</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>AutoBZ.get_self_energy_format</code>. Check Documenter&#39;s build log for details.</p></div></div><h2 id="Interface"><a class="docs-heading-anchor" href="#Interface">Interface</a><a id="Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Interface" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="AutoBZ.AbstractSelfEnergy" href="#AutoBZ.AbstractSelfEnergy"><code>AutoBZ.AbstractSelfEnergy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractSelfEnergy</code></pre><p>An abstract type whose instances implement the following interface:</p><ul><li>instances are callable and return a square matrix as a function of frequency</li><li>instances have methods <code>lb</code> and <code>ub</code> that return the lower and upper bounds of of the frequency domain for which the instance can be evaluated</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lxvm/AutoBZ.jl/blob/3adf35a681192e4bdaf0be095a4a4c499fea01ea/src/self_energies.jl#L3-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AutoBZ.lb" href="#AutoBZ.lb"><code>AutoBZ.lb</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">lb(::AbstractSelfEnergy)</code></pre><p>Return the greatest lower bound of the domain of the self energy evaluator</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lxvm/AutoBZ.jl/blob/3adf35a681192e4bdaf0be095a4a4c499fea01ea/src/self_energies.jl#L13-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AutoBZ.ub" href="#AutoBZ.ub"><code>AutoBZ.ub</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ub(::AbstractSelfEnergy)</code></pre><p>Return the least upper bound of the domain of the self energy evaluator</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lxvm/AutoBZ.jl/blob/3adf35a681192e4bdaf0be095a4a4c499fea01ea/src/self_energies.jl#L21-L25">source</a></section></article><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="AutoBZ.EtaSelfEnergy" href="#AutoBZ.EtaSelfEnergy"><code>AutoBZ.EtaSelfEnergy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">EtaSelfEnergy(η::Real)</code></pre><p>Construct a self-energy evaluator which returns <span>$-i\eta I$</span> for any frequency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lxvm/AutoBZ.jl/blob/3adf35a681192e4bdaf0be095a4a4c499fea01ea/src/self_energies.jl#L28-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AutoBZ.ScalarSelfEnergy" href="#AutoBZ.ScalarSelfEnergy"><code>AutoBZ.ScalarSelfEnergy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ScalarSelfEnergy(interpolant, lb, ub)</code></pre><p>Construct a self-energy evaluator which for frequencies above <code>lb</code> and below <code>ub</code> returns the interpolant at that frequency times an identity matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lxvm/AutoBZ.jl/blob/3adf35a681192e4bdaf0be095a4a4c499fea01ea/src/self_energies.jl#L40-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AutoBZ.MatrixSelfEnergy" href="#AutoBZ.MatrixSelfEnergy"><code>AutoBZ.MatrixSelfEnergy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MatrixSelfEnergy(interpolant, lb, ub)</code></pre><p>Construct a self-energy evaluator which for frequencies above <code>lb</code> and below <code>ub</code> returns the matrix-valued interpolant at that frequency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lxvm/AutoBZ.jl/blob/3adf35a681192e4bdaf0be095a4a4c499fea01ea/src/self_energies.jl#L56-L61">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../interfaces/">« Interfaces</a><a class="docs-footer-nextpage" href="../../jobs/">Jobs »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Wednesday 18 January 2023 22:13">Wednesday 18 January 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
