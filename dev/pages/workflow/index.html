<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Workflow · AutoBZ.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">AutoBZ.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../man/adaptive_integration/">Adaptive integration</a></li><li><a class="tocitem" href="../man/equispace_integration/">Equispace integration</a></li><li><a class="tocitem" href="../man/integration_limits/">Integration limits</a></li></ul></li><li><span class="tocitem">Applications</span><ul><li><a class="tocitem" href="../app/fourier/">Fourier series</a></li><li><a class="tocitem" href="../app/integrands/">Integrands</a></li><li><a class="tocitem" href="../app/interfaces/">Interfaces</a></li><li><a class="tocitem" href="../app/self_energy/">Self energies</a></li></ul></li><li><a class="tocitem" href="../jobs/">Jobs</a></li><li><a class="tocitem" href="../adaptinterp/">AdaptChebInterp</a></li><li><a class="tocitem" href="../equiinterp/">EquiBaryInterp</a></li><li><a class="tocitem" href="../demo/">Demos</a></li><li class="is-active"><a class="tocitem" href>Workflow</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Workflow</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Workflow</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lxvm/AutoBZ.jl/blob/main/docs/src/pages/workflow.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Workflow"><a class="docs-heading-anchor" href="#Workflow">Workflow</a><a id="Workflow-1"></a><a class="docs-heading-anchor-permalink" href="#Workflow" title="Permalink"></a></h1><p>Users of <code>AutoBZ</code> who would like to use the calculation scripts found in the <code>demos</code> folder of the repository can use the following workflow to run their jobs either locally or on a cluster. First, create a working directory for this project that will also serve as the home of its Julia environment</p><pre><code class="nohighlight hljs">$ mkdir workdir
$ cd workdir
$ julia --project=. # start an interactive session in the &lt;workdir&gt; environment</code></pre><p>In the Julia session, adding <code>AutoBZ</code> to the environment while cloning the repository to the working directory can be done interactively as shown below</p><pre><code class="nohighlight hljs">julia&gt; ] # enters the package manager
(workdir) pkg&gt; develop --local https://github.com/lxvm/AutoBZ.jl.git # clones repo into ./dev/AutoBZ</code></pre><p>(For documentation on unregistered packages, see <a href="https://pkgdocs.julialang.org/v1/managing-packages/#Adding-unregistered-packages">here</a>.) An equivalent shell script to set up the environment with SSH is the following</p><pre><code class="nohighlight hljs">$ mkdir dev
$ git clone git@github.com:lxvm/AutoBZ.jl.git dev/AutoBZ
$ julia -e &#39;import Pkg; Pkg.activate(&quot;.&quot;); Pkg.develop(path=&quot;dev/AutoBZ&quot;)&#39;</code></pre><p>From the working directory, the scripts from the <code>demos</code> folder can be copied back, as well any coefficient files for the calculations that will be run.</p><pre><code class="nohighlight hljs">julia&gt; ; # enters a shell
shell&gt; cp -t . dev/AutoBZ/demos/svo_hr.dat dev/AutoBZ/demos/svo_r.dat dev/AutoBZ/demos/OC_berry.jl</code></pre><p>In the lines above, the script <code>OC_berry.jl</code> was copied along with its default data files into the working directory. Note if you have data files with different names, the script needs to be edited to load those files instead. Moreover, the files in the working directory can be freely edited without affecting those in the <code>AutoBZ</code> repository, and likewise the repository can be updated without affecting the files in <code>workdir</code>. Note that any script dependencies other than <code>AutoBZ</code> will need to be added to the environment in <code>workdir</code> (e.g. <code>pkg&gt; add Plots</code>).</p><p>Finally, to run the script from the Julia session in the <code>workdir</code>, simply <code>include(&quot;OC_berry.jl&quot;)</code>. If you would like to run a script as a cluster job, include the line below in your bash script submitted to the scheduler.</p><pre><code class="nohighlight hljs">julia --project=. OC_berry.jl</code></pre><p>When <code>AutoBZ</code> is released as a registered package, it will be enough to <code>add AutoBZ</code> to the Julia environment and copy the scripts from the installation location, although the method described above conveniently saves the repository in the working directory, letting you easily update the git repository or change branches. If working in an interactive session, this method also works with a <a href="https://timholy.github.io/Revise.jl/stable/">Revise.jl</a> workflow.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../demo/">« Demos</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Monday 14 November 2022 23:31">Monday 14 November 2022</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
